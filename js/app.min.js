$(document).ready(function() {
  $(".header-bottom__searc-svg").click(function() {
      $(".header-search").toggleClass("active");
  });
});

$(document).ready(function() {
  $(".calculate-type").click(function() {
      $(".calculate__top__column__select").toggleClass("active");
  });
});

// $(document).ready(function() {
//     // Проверяем, есть ли состояние активности в Local Storage
//     var isMenuActive = localStorage.getItem("menuActive");

//     // Если есть, применяем класс .active к .left-menu-main-link__ul
//     if (isMenuActive === "true") {
//         $(".left-menu-main-link__ul, .left-menu-main-link-svg").addClass("active");
//     }

//     // Обрабатываем клик по элементу .left-menu-main-link
//     $(".left-menu-main-link").click(function(e) {
//         var $menu = $(this).find(".left-menu-main-link__ul, .left-menu-main-link-svg");
//         $menu.toggleClass("active");

//         // Сохраняем состояние активности в Local Storage
//         var isActive = $menu.hasClass("active");
//         localStorage.setItem("menuActive", isActive.toString());
//     });
// });

$(document).ready(function() {
  $(".header-bottom__burger, .header-bottom__burger__close").click(function() {
      $(".header__adaptiv, .header-top, .header-bottom, .header-bottom__logo-a, .header-bottom__logo-a-blue, .header-bottom__burger__close, .header-bottom__burger").toggleClass("active-burger");
  });
});

var mq = window.matchMedia( "(max-width: 767px)" );
if (mq.matches) {
  var elements = document.querySelectorAll("#icon-page-region-adaptiv");

  elements.forEach(function(element) {
      element.setAttribute("width", "40px");
      element.setAttribute("height", "40px");
  });
}

function select() {
  var select = document.querySelector('.calculate__top__column__select');

  document.body.onclick = function(evt) {
      if (!select.contains(evt.target) && !select.contains(evt.target)) {
          select.classList.remove('active');
      }
  }
}




const myModal = new HystModal({
  linkAttributeName: "data-hystmodal",
  // настройки (не обязательно), см. API
});

let phoneMaskEl = document.getElementById('phone-mask');
if (phoneMaskEl) {
  phoneMask() 
}

function phoneMask() {
  const maskOptions = {
      mask: '+{7} (000) 000 00 00'
  };
  const mask = IMask(phoneMaskEl, maskOptions);
}



let dateMaskEl = document.getElementById('date-mask');
if (dateMaskEl) {
  dateMask() 
}

function dateMask() {
  const maskOptions = {
      mask: '00.00.0000'
  };
  const mask = IMask(dateMaskEl, maskOptions);
}




let moneyMaskEl = document.getElementById('money-mask');
if (moneyMaskEl) {
  moneyMask() 
}

function moneyMask() {
  const maskOptions = [
    { mask: '' },
    {
      mask: 'num ₽',
      lazy: false,
      blocks: {
        num: {
          mask: Number,
          thousandsSeparator: ' '
        },
      },
    },
  ]
  const mask = IMask(moneyMaskEl, maskOptions);
}



let litrMaskEl = document.getElementById('litr-mask');
if (litrMaskEl) {
  litrMas() 
}

function litrMas() {
  const maskOptions = [
    { mask: '' },
    {
      mask: 'num л',
      lazy: false,
      blocks: {
        num: {
          mask: Number,
          thousandsSeparator: ' '
        },
      },
    },
  ]
  const mask = IMask(litrMaskEl, maskOptions);
}



// function defaultSelect() {
  // Массив с ID элементов <select>
  const selectIds = ["select1", "select2", "select3", "select4", "select5", "select6", "select7", "select8", "select9"];

  // Проходим по каждому ID и создаем объект Choices
  selectIds.forEach((selectId) => {
      const select = document.getElementById(selectId);
      
      if (select) {
          new Choices(select, {
              searchEnabled: false,
              itemSelectText: '',
          });
      }
  });
// }

// // Вызываем функцию после полной загрузки DOM
// document.addEventListener("DOMContentLoaded", function() {
//     defaultSelect();
// });


// Получить ссылку на элементы
const myDiv = document.querySelector(".ip");
const radioButtons = document.querySelectorAll('input[name="select-type"]');

// Добавить обработчик события для радио-кнопок
radioButtons.forEach((radio) => {
  radio.addEventListener("change", () => {
    // Очистить все классы у элемента <div>
    myDiv.className = "";

    // Добавить класс, соответствующий выбранной радио-кнопке
    if (radio.checked) {
      myDiv.classList.add(radio.value);
    }
  });
});


let btnResultGbo = document.querySelector('#btn-result-gbo');

function formulaGbo() {
  let metanEl = document.querySelector('#metan');
  let priceDowloundEl = document.querySelector('#price-dowlound');
  let probegEl = document.querySelector('#probeg');
  let priceFuelEl = document.querySelector('#price-fuel');
  let raschodEl = document.querySelector('#raschod');

  let metanValue = Number(metanEl.value)
  let priceDowloundValue = Number(priceDowloundEl.value)
  let probegValue = Number(probegEl.value)
  let riceFuelValue = Number(priceFuelEl.value)
  let raschodValue = Number(raschodEl.value)

  let result = metanValue + priceDowloundValue + probegValue + riceFuelValue + raschodValue;
  let monthGboEl = document.querySelector('#month-gbo');
  let economMonthEl = document.querySelector('#econom-month');
  let economYearEl = document.querySelector('#econom-year');
  monthGboEl.innerHTML = result + " месяца";
  economMonthEl.innerHTML = result + " рублей";
  economYearEl.innerHTML = result + " рублей";
}

btnResultGbo.addEventListener('click', formulaGbo);

$(document).ready(function() {
  $("#btn-result-gbo").click(function() {
      $(".calculate-button, .calculate__bottom").removeClass("none");
  });
});